import os
import random
from colorama import init, Fore

# 初始化 colorama
init(autoreset=True)

# 定义多个 Banner 样式
banners = [
    """
                                                  ,--,                                    
                         ,----..               ,---.'|        ,----..                     
    ,---,.     ,---,    /   /   \       ,---,. |   | :       /   /   \              .---. 
  ,'  .'  \ ,`--.' |   /   .     :    ,'  .' | :   : |      /   .     :            /. ./| 
,---.' .' | |   :  :  .   /   ;.  \ ,---.'   | |   ' :     .   /   ;.  \       .--'.  ' ; 
|   |  |: | :   |  ' .   ;   /  ` ; |   |   .' ;   ; '    .   ;   /  ` ;      /__./ \ : | 
:   :  :  / |   :  | ;   |  ; \ ; | :   :  :   '   | |__  ;   |  ; \ ; |  .--'.  '  \\' . 
:   |    ;  '   '  ; |   :  | ; | ' :   |  |-, |   | :.'| |   :  | ; | ' /___/ \ |    ' ' 
|   :     \ |   |  | .   |  ' ' ' : |   :  ;/| '   :    ; .   |  ' ' ' : ;   \  \;      : 
|   |   . | '   :  ; '   ;  \; /  | |   |   .' |   |  ./  '   ;  \; /  |  \   ;  `      | 
'   :  '; | |   |  '  \   \  ',  /  '   :  '   ;   : ;     \   \  ',  /    .   \    .\  ; 
|   |  | ;  '   :  |   ;   :    /   |   |  |   |   ,/       ;   :    /      \   \   ' \ | 
|   :   /   ;   |.'     \   \ .'    |   :  \   '---'         \   \ .'        :   '  |--"  
|   | ,'    '---'        `---`      |   | ,'                  `---`           \   \ ;     
`----'                              `----'                                     '---"      
                                                                                          
   """,
   
    """
O       o O       o O       o   ____  _  _    __   
| O   o | | O   o | | O   o |  (  _ \( \( )  /__\  
| | O | | | | O | | | | O | |   )(_) ))  (  /(__)\ 
| o   O | | o   O | | o   O |  (____/(_)\_)(__)(__)
o       O o       O o       O                                                                                                                                                  
    """,
   
    """
       _            _             _          
      /\ \         /\ \     _    / /\        
     /  \ \____   /  \ \   /\_\ / /  \       
    / /\ \_____\ / /\ \ \_/ / // / /\ \      
   / / /\/___  // / /\ \___/ // / /\ \ \     
  / / /   / / // / /  \/____// / /  \ \ \    
 / / /   / / // / /    / / // / /___/ /\ \   
/ / /   / / // / /    / / // / /_____/ /\ \  
\ \ \__/ / // / /    / / // /_________/\ \ \ 
 \ \___\/ // / /    / / // / /_       __\ \_\\
  \/_____/ \/_/     \/_/ \_\___\     /____/_/
                                             
   """,

   """
            ,----------------,              ,---------,
        ,-----------------------,          ,"        ,"|
      ,"                      ,"|        ,"        ,"  |
     +-----------------------+  |      ,"        ,"    |
     |  .-----------------.  |  |     +---------+      |
     |  |                 |  |  |     | -==----'|      |
     |  |  I LOVE BIO!    |  |  |     |         |      |
     |  |  DNA not found! |  |  |/----|`---=    |      |
     |  |  C:\>_          |  |  |   ,/|==== ooo |      ;
     |  |                 |  |  |  // |(((( [33]|    ," 
     |  `-----------------'  |," .;'| |((((     |  ,"   
     +-----------------------+  ;;  | |         |,"     
        /_)______________(_/  //'   | +---------+       
   ___________________________/___  `,                  
  /  oooooooooooooooo  .o.  oooo /,   \,"-----------    
 / ==ooooooooooooooo==.o.  ooo= //   ,`\--{)B     ,"    
/_==__==========__==_ooo__ooo=_/'   /___________,"      
`-----------------------------'     -Kevin Lam-         
   """,

   """
      ___                       ___           ___           ___      ___           ___     
     /\  \          ___        /\  \         /\  \         /\__\    /\  \         /\__\    
    /::\  \        /\  \      /::\  \       /::\  \       /:/  /   /::\  \       /:/ _/_   
   /:/\:\  \       \:\  \    /:/\:\  \     /:/\:\  \     /:/  /   /:/\:\  \     /:/ /\__\  
  /::\~\:\__\      /::\__\  /:/  \:\  \   /::\~\:\  \   /:/  /   /:/  \:\  \   /:/ /:/ _/_ 
 /:/\:\ \:|__|  __/:/\/__/ /:/__/ \:\__\ /:/\:\ \:\__\ /:/__/   /:/__/ \:\__\ /:/_/:/ /\__\\
 \:\~\:\/:/  / /\/:/  /    \:\  \ /:/  / \/__\:\ \/__/ \:\  \   \:\  \ /:/  / \:\/:/ /:/  /
  \:\ \::/  /  \::/__/      \:\  /:/  /       \:\__\    \:\  \   \:\  /:/  /   \::/_/:/  / 
   \:\/:/  /    \:\__\       \:\/:/  /         \/__/     \:\  \   \:\/:/  /     \:\/:/  /  
    \::/__/      \/__/        \::/  /                     \:\__\   \::/  /       \::/  /   
     ~~                        \/__/                       \/__/    \/__/         \/__/     
   """,
   """                                                         
,-----.  ,--. ,-----. ,------.,--.    ,-----. ,--.   ,--. 
|  |) /_ |  |'  .-.  '|  .---'|  |   '  .-.  '|  |   |  | 
|  .-.  \|  ||  | |  ||  `--, |  |   |  | |  ||  |.'.|  | 
|  '--' /|  |'  '-'  '|  |`   |  '--.'  '-'  '|   ,'.   | 
`------' `--' `-----' `--'    `-----' `-----' '--'   '--'
                                                      
   """,
   """
 ▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄▄▄▄▄▄▄▄▄▄▄  ▄            ▄▄▄▄▄▄▄▄▄▄▄  ▄         ▄ 
▐░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░▌          ▐░░░░░░░░░░░▌▐░▌       ▐░▌
▐░█▀▀▀▀▀▀▀█░▌▀▀▀▀█░█▀▀▀▀ ▐░█▀▀▀▀▀▀▀█░▌▐░█▀▀▀▀▀▀▀▀▀ ▐░▌          ▐░█▀▀▀▀▀▀▀█░▌▐░▌       ▐░▌
▐░▌       ▐░▌    ▐░▌     ▐░▌       ▐░▌▐░▌          ▐░▌          ▐░▌       ▐░▌▐░▌       ▐░▌
▐░█▄▄▄▄▄▄▄█░▌    ▐░▌     ▐░▌       ▐░▌▐░█▄▄▄▄▄▄▄▄▄ ▐░▌          ▐░▌       ▐░▌▐░▌   ▄   ▐░▌
▐░░░░░░░░░░▌     ▐░▌     ▐░▌       ▐░▌▐░░░░░░░░░░░▌▐░▌          ▐░▌       ▐░▌▐░▌  ▐░▌  ▐░▌
▐░█▀▀▀▀▀▀▀█░▌    ▐░▌     ▐░▌       ▐░▌▐░█▀▀▀▀▀▀▀▀▀ ▐░▌          ▐░▌       ▐░▌▐░▌ ▐░▌░▌ ▐░▌
▐░▌       ▐░▌    ▐░▌     ▐░▌       ▐░▌▐░▌          ▐░▌          ▐░▌       ▐░▌▐░▌▐░▌ ▐░▌▐░▌
▐░█▄▄▄▄▄▄▄█░▌▄▄▄▄█░█▄▄▄▄ ▐░█▄▄▄▄▄▄▄█░▌▐░▌          ▐░█▄▄▄▄▄▄▄▄▄ ▐░█▄▄▄▄▄▄▄█░▌▐░▌░▌   ▐░▐░▌
▐░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░▌          ▐░░░░░░░░░░░▌▐░░░░░░░░░░░▌▐░░▌     ▐░░▌
 ▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀  ▀            ▀▀▀▀▀▀▀▀▀▀▀  ▀▀▀▀▀▀▀▀▀▀▀  ▀▀       ▀▀                                                                                   
   """,
]

def get_terminal_size():
    # 获取终端的宽度和高度
    try:
        size = os.get_terminal_size()
        return size.columns, size.lines
    except OSError:
        # 如果无法获取终端尺寸（例如重定向输出到文件等）
        return 80, 24  # 默认终端尺寸

def banner():
    # 获取系统当前时间（使用 Ubuntu 的 date 命令）
    start_time = os.popen('date "+%Y-%m-%d %H:%M:%S"').read().strip()
    
    # 程序信息
    software_name = "BioFlow"
    version = "1.0.0"
    author = "Teng"
    author_email = "3324463211@qq.com"

    # 随机选择一个 banner 样式
    banner = random.choice(banners)

    # 获取终端的当前宽度和高度
    terminal_width, terminal_height = get_terminal_size()

    # 假设 Banner 的宽度和高度 (你可以根据实际情况调整)
    banner_width = max(len(line) for line in banner.split('\n'))
    banner_height = banner.count('\n')

    # 判断终端是否足够大来显示 Banner
    if terminal_width >= banner_width and terminal_height >= banner_height:
        # 使用 colorama 为 Banner 设置颜色
        color_choices = [
            Fore.RED, Fore.GREEN, Fore.YELLOW, Fore.CYAN,
            Fore.MAGENTA, Fore.WHITE, Fore.BLUE
        ]

        print(random.choice(color_choices) + banner)  # 随机颜色打印 banner
    else:
        print(Fore.YELLOW + "Welcome to BIOFLOW!")  # 黄色欢迎信息

    # 输出程序信息并设置颜色
    print(Fore.GREEN + f"Software Name   : {software_name}")
    print(Fore.GREEN + f"Version         : {version}")
    print(Fore.GREEN + f"Author          : {author}")
    print(Fore.GREEN + f"Author Email    : {author_email}")
    print(Fore.GREEN + f"Start Time      : {start_time}")
    print(Fore.BLUE + "="*50)  # 蓝色分隔线

if __name__ == "__main__":
    banner()
